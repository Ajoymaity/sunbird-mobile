<ion-header>
  <ion-navbar>
    <ion-title>
      {{ 'PROFILE_LW' | translate }}
    </ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="showOverflowMenu($event)">
        <ion-icon name="settings"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <!-- <ion-refresher (ionRefresh)="doRefresh($event)">
      <ion-refresher-content>

      </ion-refresher-content>
    </ion-refresher> -->
  <ion-refresher (ionRefresh)="doRefresh($event)"></ion-refresher>
  <p class="profile-last-login-text">{{ lastLoginTime }}</p>

  <div text-center>
    <img class="custom-avatar" [src]="imageUri" (click)="editPicture()" />
    <p class="profile-name">{{ profileName }}</p>
    <div class="padding-5 ellipsis" col-12>
      <span class="grey-bg">{{ userName }}</span>
    </div>
  </div>

  <ion-item>
    <ion-row class="profile-completed-ion-row">
      <ion-col class="profile-completed-ion-col">
        <p class="profile-completed-text">{{ profileCompletionText }}</p>
      </ion-col>
      <!-- <ion-col col-4 text-end class="profile-completed-ion-col">
        <p class="profile-add-exp-text">{{ uncompletedDetails }}</p>
      </ion-col> -->
    </ion-row>
    <pb-horizontal progress={{profileProgress}}></pb-horizontal>
  </ion-item>

  <ion-item text-wrap>
    <p class="section-title">{{ 'DESCRIPTION' | translate }}
        <ion-icon float-end class="padding-left-5" name="unlock"></ion-icon>
    </p>
    <p>{{ profile?.profileSummary }}</p>
  </ion-item>

  <ion-list-header class="section-title" no-lines no-padding>
    {{ 'TITLE_EDUCATION' | translate }}
    <span float-end color="primary" (click)="editEduDetails(true, {})">{{ 'ADD' | translate }}
        <ion-icon color="dark" class="padding-left-5" name="unlock"></ion-icon>
    </span>
  </ion-list-header>

  <ion-item *ngFor="let ed of profile.education">
    <ion-row>
      <ion-col col-2 class="padding-left-none">
        <div class="image-holder"></div>
      </ion-col>
      <ion-col col-9>
        <span class="details-title">{{ ed.name }}</span>
        <div class="details">
          <p>{{ ed.degree }}</p>
          <p>Year of Passing : {{ ed.yearOfPassing }}</p>
          <p>Grade: {{ ed.grade }}({{ ed.percentage }}%)</p>
          <p>{{ ed.boardOrUniversity }}</p>
        </div>
      </ion-col>
      <ion-col col-1 text-end>
        <ion-icon name="md-create" color="primary" (click)="editEduDetails(false, ed)"></ion-icon>
      </ion-col>
    </ion-row>
  </ion-item>


  <ion-list-header class="section-title" no-padding>
    {{ 'EXPERIENCE' | translate }}
    <span float-end color="primary" (click)="editExperience(true, {})">{{ 'ADD' | translate }}
        <ion-icon color="dark" class="padding-left-5" name="unlock"></ion-icon>
    </span>
  </ion-list-header>

  <ion-item *ngFor="let job of profile.formattedJobProfile">
    <ion-row justify-content-start>
      <ion-col col-2 class="padding-left-none">
        <div class="image-holder"></div>
      </ion-col>
      <ion-col col-9>
        <span class="details-title">{{ job.jobName }}</span>
        <div class="details">
          <p>{{ job.role }}</p>
          <p>{{ job.orgName }}</p>
          <p>{{ job.subject }}</p>
          <p>{{ job.duration }}</p>
        </div>
      </ion-col>
      <ion-col col-1 text-end>
        <ion-icon name="md-create" color="primary" (click)="editExperience(false, job)"></ion-icon>
      </ion-col>
    </ion-row>
  </ion-item>


  <ion-list-header class="section-title" no-padding>
    {{ 'TITLE_ADDRESS' | translate }}
    <span float-end color="primary" (click)="editAddress(true, {})">{{ 'ADD' | translate }}
        <ion-icon color="dark" class="padding-left-5" name="unlock"></ion-icon>
    </span>
  </ion-list-header>

  <ion-item *ngFor="let addr of profile?.address">
    <ion-row justify-content-start>
      <ion-col col-2 class="padding-left-none">
        <div class="image-holder"></div>
      </ion-col>
      <ion-col col-9>
        <span class="details-title">{{ addr.addType }}</span>
        <div class="details">
          <p>{{ addr.addressLine1 }}</p>
          <p>{{ addr.city }}</p>
        </div>
      </ion-col>
      <ion-col col-1 text-end>
        <ion-icon name="md-create" color="primary" (click)="editAddress(false, addr)"></ion-icon>
      </ion-col>
    </ion-row>
  </ion-item>


  <ion-list-header class="section-title" no-padding>
    {{ 'SKILL_TAGS' | translate }}
    <span float-end color="primary" (click)="addSkillTags()">{{ 'ADD' | translate }}
        <ion-icon color="dark" class="padding-left-5" name="unlock"></ion-icon>
    </span>
  </ion-list-header>

  <ion-list>

    <ion-row *ngFor="let skill of profile.skills; let i = index" class="skill-row">
        <ion-col col-9 class="ellipsis padding-left-10">{{ skill?.skillName }}</ion-col>
        <ion-col col-3 text-end class="padding-right-10">{{ skill?.endorsementcount }}</ion-col>
    </ion-row>
  </ion-list>

  <ion-list-header class="section-title" no-padding>
    {{ 'ADDITIONAL_INFORMATION' | translate }}
    <ion-icon float-end name="md-create" color="primary" (click)="editAdditionalInfo()"></ion-icon>
  </ion-list-header>

  <ion-item class="additional-info">
    <ion-row>
      <ion-col col-5>
        <span text-uppercase class="info-title">{{ 'LANGUAGE' | translate }}</span>
      </ion-col>
      <ion-col col-7 text-end>
        <span class="ellipsis">{{ profile.language && profile.language[0] }}</span>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-5>
        <span text-uppercase class="info-title">{{ 'EMAIL_ID' | translate }}</span>
      </ion-col>
      <ion-col col-7 text-end>
        <span class="ellipsis">{{ profile?.email }}</span>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-5>
        <span text-uppercase class="info-title">{{ 'PHONE' | translate }}</span>
      </ion-col>
      <ion-col col-7 text-end>
        <span class="ellipsis">{{ profile?.phone }}</span>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-5>
        <span text-uppercase class="info-title">{{ 'GENDER' | translate }}</span>
      </ion-col>
      <ion-col col-7 text-end>
        <span class="ellipsis">{{ profile?.gender }}</span>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-5>
        <span text-uppercase class="info-title">{{ 'SUBJECTS' | translate }}</span>
      </ion-col>
      <ion-col col-7 text-end>
        <span class="ellipsis">{{ subjects }}</span>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-5>
        <span text-uppercase class="info-title">{{ 'DATE_OF_BIRTH' | translate }}</span>
      </ion-col>
      <ion-col col-7 text-end>
        <span class="ellipsis">{{ profile?.dob }}</span>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-5>
        <span text-uppercase class="info-title">{{ 'GRADE' | translate }}</span>
      </ion-col>
      <ion-col col-7 text-end>
        <span class="ellipsis">{{ grades }}</span>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-5>
        <span text-uppercase class="info-title">{{ 'CURRENT_LOCATION' | translate }}</span>
      </ion-col>
      <ion-col col-7 text-end>
        <span class="ellipsis">{{ profile?.location }}</span>
      </ion-col>
    </ion-row>
  </ion-item>
</ion-content>
