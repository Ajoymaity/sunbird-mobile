<ion-header class="sb-header">
	<ion-navbar class="sb-header-navbar" #content>
		<!-- <ion-toolbar class="sb-header-toolbar"> -->
		<ion-buttons class="sb-hamburger" start>
			<button class="sb-hamburger-menu sb-hamburger-icon" ion-button icon-only menuToggle>
				<ion-icon name="menu"></ion-icon>
			</button>
		</ion-buttons>
		<ion-buttons class="sb-header-btn-group" end>
			<button icon-only ion-button (click)="onProfileClick()">
				<ion-icon name="person"></ion-icon>
			</button>
			<button ion-button icon-only (click)="scanQRCode()">
				<ion-icon name="qr-scanner"></ion-icon>
			</button>
			<button ion-button icon-only (click)="search()">
				<ion-icon name="search"></ion-icon>
			</button>
		</ion-buttons>
		<!-- </ion-toolbar> -->
	</ion-navbar>
</ion-header>
<ion-menu [content]="content" class="sb-side-menu" persistent="true">
	<ion-header>
		<ion-toolbar>
			<ion-title>
				<img class="img-container">
				<span>Diksha</span>
			</ion-title>
		</ion-toolbar>
	</ion-header>
	<ion-content>
		<ion-list class="sb-menu-list">
			<ion-item (click)="goToUserAndGroups()">
				<span class="sb-menu-icon">
					<ion-icon ios="ios-contacts" md="md-contacts"></ion-icon>
				</span>
				<span class="sb-menu-item" menuClose>User and Gropus</span>
			</ion-item>
			<ion-item (click)="goToReports()">
				<span class="sb-menu-icon">
					<ion-icon ios="ios-clipboard" md="md-clipboard" MR5></ion-icon>
				</span>
				<span class="sb-menu-item" menuClose>Reports</span>
			</ion-item>
			<ion-item (click)="goToLanguageSettings()">
				<span class="sb-menu-icon">
					<ion-icon ios="ios-planet" md="md-planet"></ion-icon>
				</span>
				<span class="sb-menu-item" menuClose>Language</span>
			</ion-item>
			<ion-item (click)="goToSettings()">
				<span class="sb-menu-icon">
					<ion-icon ios="ios-settings" md="md-settings"></ion-icon>
				</span>
				<span class="sb-menu-item" menuClose>Settings</span>
			</ion-item>
		</ion-list>
	</ion-content>
	<ion-footer class="side-menu-footer">
		Version V1.12.27
	</ion-footer>
</ion-menu>
<ion-content style="background: #FFF;" >
	<div class="sb-slider-pills-container">
		<div class="sb-pills-container sb-medium-pills-container">
			<div class="pill" *ngFor="let medium of categoryMediums; let i = index;" [ngClass]="{'active': medium?.selected}"
			 [@appear] (click)="mediumClick(medium?.name)">{{medium?.name}} Medium</div>
		</div>
	</div>
	<div class="sb-slider-pills-container">
		<div class="sb-pills-container sb-grade-pills-container" id="gradeScroll" [@ScrollHorizontal]="{value: currentGrade?.selected, params: {left_indent: current_index * 72}}">
			<div class="pill" *ngFor="let grade of categoryGradeLevels; let i = index; let first = first" [ngClass]="{'active': grade?.selected, '': !grade?.selected}"
			 attr.id="class{{i}}" (click)="classClick(i);">{{grade?.name}}</div>
		</div>
	</div>
	<ion-refresher (ionRefresh)="swipeDownToRefresh($event)"></ion-refresher>
	<div style="margin: 40px;" *ngIf ="refresh">
		<ion-spinner icon="spiral"></ion-spinner>
	</div>
	<ion-spinner *ngIf="showLoader" padding style="padding-top: 100px;"></ion-spinner>
	<div *ngIf="recentlyViewedResources && recentlyViewedResources.length">
		<div class="sb-recently-viewed-container" style="padding-bottom:40px;">

			<div class="sb-recently-viewed-items">
				<div class="sb-recenlty-viewed-title">{{ 'RECENTLY_VIEWED' | translate }}
					<button ion-button class="sb-btn sb-btn-sm sb-btn-outline-info" float-end (click)="navigateToViewMoreContentsPage(recentViewedSection);">
						View all</button></div>

				<div class="sb-card-scroll-container">
					<!-- Card style -->
					<div class="sb-card-container sb-card-recently-container">
						<new-course-card *ngFor="let course of recentlyViewedResources" [course]="course" [env]="'home'" [index]="i"
						 [sectionName]="recentViewedSection" [layoutName]="layoutSavedContent"></new-course-card>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div *ngIf="searchApiLoader && storyAndWorksheets && storyAndWorksheets.length === 0">
			<div style="height: 500px;">
				<ion-spinner padding style="padding-top: 110px;"></ion-spinner>
			</div>
    </div>
	<div *ngFor="let items of storyAndWorksheets">
		<div class="sb-textbook-container" *ngIf="items?.contents">
			<div class="sb-textbook-items">
				<div class="sb-textbook-title-container">
					<span class="textbook-icon">
						<ion-icon ios="ios-albums" md="md-albums"></ion-icon>
					</span>
					<span class="textbook-title">
						{{items.name}}
					</span>
				</div>
				<!-- Card style -->
				<div class="sb-card-container sb-card-textbook-container">
					<textbook-card *ngFor="let item of items?.contents; let i = index" [content]="item" [layoutName]='layoutName'
					 (click)="navigateToDetailPage(item, i, item.name)"></textbook-card>
				</div>
			</div>
		</div>
	</div>

	<div *ngIf="pageApiLoader && storyAndWorksheets && storyAndWorksheets.length === 0">
		<div class="course-scroll-holder" style="height: 500px;">
			<ion-spinner padding style="padding-top: 110px;"></ion-spinner>
		</div>
	</div>

	<div padding text-center *ngIf="!commonUtilService?.networkInfo?.isNetworkAvailable">
		<img height="80" width="100" src="assets/imgs/ic_offline.png" />
		<h6 ion-text color="secondary_black">
			<b>{{ 'NO_INTERNET_TITLE' | translate }}</b>
		</h6>
		<p color="dark_gray">{{ 'OFFLINE_WARNING' | translate }}</p>
		<b ion-text text-uppercase color="primary" (click)="checkNetworkStatus(true); showOfflineNetworkWarning();">{{'RETRY_ACTION'
			| translate}}</b>
	</div>
	<div *ngIf="showSignInCard" class="signin-card-bg">
		<sign-in-card (valueChange)="showOfflineNetworkWarning($event)" [source]="source"></sign-in-card>
	</div>
</ion-content>